<!DOCTYPE html><meta charset="utf-8"><style>  .bar {      fill: steelblue;  }  .bar:hover {      fill: brown;  }  .axis {      font: 10px sans-serif;  }  .axis path,  .axis line {      fill: none;      stroke: #000;      shape-rendering: crispEdges;  }  .x.axis path {      display: none;  }</style><body><div id='theGraph'></div><div id='theEx'></div><hr/><div id='theData'></div>    <script src="//d3js.org/d3.v3.min.js" charset="utf-8"></script>    <script>    var margin = {            top: 20,            right: 20,            bottom: 30,            left: 40        },        width = 960 - margin.left - margin.right,        height = 500 - margin.top - margin.bottom;    var x = d3.scale.ordinal().rangeRoundBands([0, width], .1);    var y = d3.scale.linear().range([height, 0]);    var percent = d3.format(".1%");    var dateFormat = d3.time.format("%Y-%m-%d");    var xAxis = d3.svg.axis()        .scale(x)        .orient("bottom");    var yAxis = d3.svg.axis()        .scale(y)        .orient("left")        .ticks(10, "%");/////////////////////////////////////////////////////////////    d3.json("sales.json", function(error, json) {      'use strict';      if (error) return console.warn(error);      var salesByRep = d3.nest()        .key(function(d) { return d.rep; }) // summarizes data by rep        //.key(function(d) { return dateFormat(new Date(d.date)); })        .sortKeys(d3.ascending)        //.key(function(d) { return dateFormat(new Date(d.date)); })        ;        salesByRep = salesByRep.rollup(function(d) {           return {            total : d3.sum(d, function(g) { return Math.round(g.saleNet) }),            count :  d.length,            avg:    d3.mean(d, function(g) { return g.saleNet})             };        });        salesByRep = salesByRep.entries(json);  // now the data are actually injected         // .entries(json);      document.getElementById("theData").innerHTML = "<pre>" + JSON.stringify(salesByRep, null, ' ') + "</pre>";      // d3.selectAll("#theGraph")      //   .attr("class", "special")      //   .append("div")      //   .html("Hello, world!");       // d3.select("#theGraph").selectAll("p")       //   .attr("class", "salesByRep")       //   .data(salesByRep)       //   .enter().append("p")       //  .text(function(d) { return d.key + " sold " ;       d3.select("body")        .style("color", "black")        .style("background-color", "white");       var data = [4, 8, 15, 16, 23, 42];        d3.select("#theEx")          .selectAll("div")          .data(data)          .enter().append("div")          .style("width", function(d) { return d * 10 + "px"; })          .text(function(d) { return d; });});/////////////////////////////////////////////////////////////    function type(d) {        d.frequency = +d.frequency;        return d;      };    </script>